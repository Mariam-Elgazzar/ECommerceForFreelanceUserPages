<header class="header" [class.scrolled]="isScrolled">
  <!-- Main Navigation -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <!-- Logo -->
      <a class="navbar-brand" routerLink="/">
        <img src="photo.png" alt="العوفي" class="logo" />
        <div class="brand-text d-none d-md-block">
          <div class="brand-name">العوفي</div>
          <div class="brand-tagline">معدات البناء والتعدين</div>
        </div>
      </a>

      <!-- Search Bar (Desktop) -->
      <div class="search-container d-none d-lg-flex flex-grow-1 mx-4">
        <div class="search-wrapper" [class.active]="isSearchOpen">
          <form (ngSubmit)="onSearch()" class="search-form">
            <div class="input-group">
              <input
                type="text"
                id="searchInput"
                class="form-control search-input"
                placeholder="ابحث عن المنتجات أو الفئات أو الماركات..."
                [(ngModel)]="searchQuery"
                name="search"
                autocomplete="off"
              />
              <button
                class="btn btn-warning search-btn"
                type="submit"
                title="بحث"
              >
                <i class="fas fa-search"></i>
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Mobile Toggle Button -->
      <button
        class="navbar-toggler d-lg-none"
        type="button"
        (click)="toggleMenu()"
        [attr.aria-expanded]="isMenuOpen"
        aria-label="Toggle navigation"
      >
        <i
          class="fas"
          [class.fa-bars]="!isMenuOpen"
          [class.fa-times]="isMenuOpen"
        ></i>
      </button>

      <!-- Right Side Icons -->
      <div class="header-actions d-flex align-items-center">
        <!-- User Profile -->
        <!-- <div class="dropdown">
          <button
            class="btn btn-link nav-icon dropdown-toggle"
            type="button"
            (click)="profile()"
            data-bs-toggle="dropdown"
            title="القائمة الشخصية"
          >
            <i class="fas fa-user"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li>
              <a class="dropdown-item" routerLink="/profile">
                <i class="fas fa-user me-2"></i>الملف الشخصي
              </a>
            </li>

            <li><hr class="dropdown-divider" /></li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="fas fa-sign-out-alt me-2"></i>تسجيل الخروج
              </a>
            </li>
          </ul>
        </div> -->
        <!-- Search Button (Mobile) -->
        <button
          class="btn btn-link nav-icon d-lg-none"
          (click)="toggleSearch()"
          title="بحث"
        >
          <i class="fas fa-search"></i>
        </button>
      </div>

      <!-- Navigation Menu -->
      <div class="collapse navbar-collapse" [class.show]="isMenuOpen">
        <!-- Mobile Search -->
        <div class="mobile-search d-lg-none" [class.show]="isSearchOpen">
          <form (ngSubmit)="onSearch()" class="search-form">
            <div class="input-group mb-3">
              <input
                type="text"
                class="form-control"
                placeholder="ابحث عن المنتجات..."
                [(ngModel)]="searchQuery"
                name="mobileSearch"
              />
              <button class="btn btn-warning" type="submit" title="بحث">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </form>
        </div>

        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item" *ngFor="let item of navItems">
            <a
              class="nav-link"
              [routerLink]="item.path"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: item.exact }"
              (click)="closeMenu()"
            >
              <i [class]="item.icon + ' me-2 d-lg-none'"></i>
              {{ item.label }}
            </a>
          </li>

          <!-- Categories Dropdown -->
          <!-- <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown">
              <i class="fas fa-th-large me-2 d-lg-none"></i>
              الفئات السريعة
            </a>
            <ul class="dropdown-menu mega-menu">
              <li class="dropdown-header">فئات المنتجات</li>
              <li *ngFor="let category of categories">
                <a class="dropdown-item" (click)="navigateToCategory(category)">
                  <div class="category-item">
                    <img [src]="category.image" alt="{{category.nameAr}}" class="category-icon">
                    <div class="category-info">
                      <div class="category-name">{{ category.nameAr }}</div>
                      <div class="category-count">{{ category.productCount }} منتج</div>
                    </div>
                  </div>
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item text-center" routerLink="/categories">
                  <strong>عرض جميع الفئات</strong>
                </a>
              </li>
            </ul>
          </li> -->
        </ul>
      </div>
    </div>
  </nav>
</header>
